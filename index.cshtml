@{
    Layout = "~/Views/Shared/_StoreLayout.cshtml";
    ViewBag.Title = "Home"; // Title specific to this view
    var apiData = ViewBag.ApiData as dynamic[];
}

<!DOCTYPE html>
<html>

<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"
            integrity="sha512-uKQ39gEGiyUJl4AI6L+ekBdGKpGw4xJ55+xyJG7YFlJokPNYegn9KwQ3P8A7aFQAUtUsAQHep+d/lrGqrbPIDQ=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css"
          integrity="sha512-P9pgMgcSNlLb4Z2WAB2sH5KBKGnBfyJnq+bhcfLCFusrRc4XdXrhfDluBl/usq75NF5gTDIMcwI1GaG5gju+Mw=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        body {
            font-family: monospace;
            color: white !important;
        }

        .pageBackground {
            background: #003366;
        }

        .col-header {
            height: 50px;
            display: inline-flex;
        }

        .col-header-box {
            width: 145px;
            border: solid #004d9b 1px;
            background-color: #004081;
            display: inline-flex;
            box-shadow: 0 0 8px -1px rgba(0, 0, 0, 0.3);
        }

            .col-header-box:first-child {
                border-radius: 10px 0px 0px 0px;
                box-shadow: none;
            }

            .col-header-box:last-child {
                border-radius: 0px 10px 0px 0px;
            }

            .col-header-box:nth-child(9) {
                border-radius: 0px 10px 0px 0px;
            }

        .chb-l {
            width: 55px;
            text-align: center;
            padding-top: 8px;
            padding-bottom: 8px;
            padding-left: 2px;
        }

        .chb-m {
            width: 31px;
            text-align: center;
            padding: 15px;
        }

        .chb-r {
            width: 55px;
            text-align: center;
            padding-top: 8px;
            padding-bottom: 8px;
            padding-right: 2px;
        }

        .chb-m > span {
            background-color: #003367;
            border-radius: 3px;
            padding: 3px 7px 5px 6px;
        }

        .rows {
            margin-top: -4px;
        }

        .single-row {
            display: inline-flex;
        }

            .single-row:nth-of-type(even) {
                background-color: #002e5c;
            }

            .single-row > div {
                width: 145px;
            }

        .row-box {
            width: 145px;
            border: solid #004d9b 1px;
            text-align: left;
            padding: 30px 0px 30px 0px;
            border-width: 0px 1px 0px 1px;
        }

            .row-box:nth-child(1) {
                box-shadow: 4px 0px 3px rgba(0, 0, 0, 0.3);
                padding-top: 60px;
                padding-left: 0px;
                background-color: #004081;
                text-align: center;
                color: #8ce5e3;
                font-size: 14px;
            }

        .single-row:last-child {
            border-bottom: solid #004d9b 1px;
        }

        .inr-div {
            margin-left: 10px;
        }

        .svg-inline--fa {
            height: 15px;
        }

        .txt-light-blue {
            color: #8ce5e3;
        }

        .next-btn {
            background-color: #00000042;
            height: 767px;
            width: 50px;
            position: absolute;
            top: 85px;
            right: 14px;
            border-radius: 0px 10px 0px 0px;
            text-align: center;
            cursor: pointer;
        }

        .fa-arrow-right {
            height: 25px;
        }

        .slider {
            text-align: center;
            margin-top: 15px;
        }

        .dot {
            cursor: pointer;
            height: 8px;
            width: 8px;
            margin: 0 2px;
            background-color: #00a8a4;
            border-radius: 50%;
            display: inline-block;
        }

            .active,
            .dot:hover {
                background-color: white;
            }
    </style>
</head>

<body class="pageBackground">

    <div class="container">
        <div class="row">
            <div class="col-md-4" style="padding: 5px !important;">
                <img style="width:100%;height:240px;" src="~/images/headphone.jpg" />
            </div>
            <div class="col-md-6" style="padding: 5px !important;">
                <div style="padding-bottom:5px;">
                    <img style="width:100%;height:115px;object-fit: cover;" src="~/images/nikeshoe.jpg" />
                </div>
                <div style="padding-top:5px;">
                    <img style="width:100%;height:115px;object-fit: cover;" src="~/images/earphoneapple.jpg" />
                </div>
            </div>
            <div class="col-md-2" style="padding: 5px !important;">
                <img style="width:100%;height:240px" src="~/images/waterbottle.jpg" />
            </div>
        </div>
        <div class="row">
            <div class="col-md-2" style="padding: 5px !important;">
                <img style="width:100%;height:105px;object-fit: cover;" src="~/images/nikeshoe.jpg" />
            </div>
            <div class="col-md-4" style="padding: 5px !important;">
                <img style="width:100%;height:105px;object-fit: cover;" src="~/images/headphone.jpg" />
            </div>
            <div class="col-md-2" style="padding: 5px !important;">
                <img style="width:100%;height:105px" src="~/images/waterbottle.jpg" />
            </div>
            <div class="col-md-4" style="padding: 5px !important;">
                <img style="width:100%;height:105px;object-fit: cover;" src="~/images/earphoneapple.jpg" />
            </div>
        </div>
        <div class="row" id="dynamic-content">
            <div class="col-md-12" style="padding: 5px !important;">
                <div class="item-box" style="text-align:center;padding:100px;">
                      Loading...
                </div>
            </div>
        </div>
    </div>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function () {
            localStorage.setItem("SelectedCurrency", "USD")
            $.get("/MyStore/ApiCall", function (results) {
                localStorage.setItem("StoreData", results)
                var data = JSON.parse(results);
                Load(data);
            });
        });
        function Load(data) {
            $("#dynamic-content").empty();
            $.each(data, (index, item) => {
                var selectedCurrency = localStorage.getItem("SelectedCurrency");
                var price = item.price;
                if (selectedCurrency != "USD") {
                    price = (price * 0.93).toFixed(2);
                }
                var newItem = '<div class="col-md-4" style="padding: 5px !important;">' +
                    '<div class="item-box">' +
                    '<div class="item-title" title="' + item.title + '">' + item.title + '</div>' +
                    '<div class="item-description" title="' + item.description + '">' + item.description + '</div>' +
                    '<div class="item-price">' + price +" "+ selectedCurrency + '</div>' +
                    '</div>' +
                    '</div>';
                $("#dynamic-content").append(newItem);
            });
        }
    </script>
</body>

</html>
